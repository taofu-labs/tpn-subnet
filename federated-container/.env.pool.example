# TPN Federated Network - Mining Pool Node Configuration
# Copy this file to .env and fill in your values

# ========================================
# === MANDATORY CONFIGURATION ===
# ========================================
# These settings MUST be configured for the mining pool to work properly

# PostgreSQL Configuration (REQUIRED)
POSTGRES_PASSWORD=your_postgres_password_here

# Public Access Configuration (REQUIRED)
SERVER_PUBLIC_PROTOCOL=http
SERVER_PUBLIC_HOST=localhost
SERVER_PUBLIC_PORT=3000

# GeoIP Services (REQUIRED for worker location verification)
MAXMIND_LICENSE_KEY=your_maxmind_license_key
IP2LOCATION_DOWNLOAD_TOKEN=your_ip2location_token

# Mining Pool Information (REQUIRED)
MINING_POOL_WEBSITE_URL=https://your-mining-pool.com
MINING_POOL_REWARDS="Detailed reward structure description"

# SWAG SSL Configuration (REQUIRED for public access)
SWAG_DOMAIN_NAME=your.domain.com
SWAG_EMAIL=admin@your.domain.com

# ========================================
# === OPTIONAL CONFIGURATION ===
# ========================================
# These settings have sensible defaults but can be customized

# Shared Configuration
LOG_LEVEL=info
POSTGRES_DB=postgres
POSTGRES_USER=postgres
# Node.js Runtime Configuration - Memory limit in MB
# To get your system's available memory: echo $(($(free -m | awk 'NR==2{print $2}') * 3 / 4))
CONTAINER_MAX_PROCESS_RAM_MB=8192

# SWAG Advanced Configuration
TZ=UTC
SWAG_VALIDATION=http
SWAG_SUBDOMAINS=www
SWAG_ONLY_SUBDOMAINS=false
SWAG_EXTRA_DOMAINS=
SWAG_STAGING=false
SWAG_CERTPROVIDER=
SWAG_DNSPLUGIN=
SWAG_PROPAGATION=
SWAG_DISABLE_SSL=false

# Monitoring Configuration
WATCHTOWER_POLL_INTERVAL=3600
WATCHTOWER_NOTIFICATIONS=
WATCHTOWER_NOTIFICATION_URL=
AUTOHEAL_INTERVAL=5
AUTOHEAL_START_PERIOD=0
AUTOHEAL_DEFAULT_STOP_TIMEOUT=10

# Network Configuration
TPN_INTERNAL_SUBNET=172.20.0.0/16
TPN_INTERNAL_GATEWAY=172.20.0.1
TPN_EXTERNAL_SUBNET=172.21.0.0/16
TPN_EXTERNAL_GATEWAY=172.21.0.1
